(this.webpackJsonpattendance=this.webpackJsonpattendance||[]).push([[0],{36:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(2),r=n.n(a),o=n(28),s=n.n(o),u=(n(36),n(29)),i=n(5),j=n(16),l=n(6),b=n(7),d=n.n(b),p=n(11),O=n(21);n(38),n(51);O.a.initializeApp({apiKey:"AIzaSyALXfyozWxHJFl8mhD9B5WJGLCD258ebn0",authDomain:"attendance-6c507.firebaseapp.com",databaseURL:"https://attendance-6c507-default-rtdb.firebaseio.com/",projectId:"attendance-6c507",storageBucket:"attendance-6c507.appspot.com",messagingSenderId:"91593436424",appId:"1:91593436424:web:3cb922e34d308674c890bd"});var h=O.a.auth(),m=O.a.firestore(),f=O.a,x=(n(41),function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(""),s=Object(i.a)(o,2),u=s[0],j=s[1],l=Object(a.useState)(!0),b=Object(i.a)(l,2),O=b[0],m=b[1],f=Object(a.useState)(""),x=Object(i.a)(f,2),g=x[0],v=x[1],N=function(e){var t=e.target,n=t.name,c=t.value;"email"===n?r(c):"password"===n&&j(c)},D=function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!O){e.next=8;break}return e.next=5,h.createUserWithEmailAndPassword(n,u);case 5:e.sent,e.next=11;break;case 8:return e.next=10,h.signInWithEmailAndPassword(n,u);case 10:e.sent;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),v(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"authContainer",children:[Object(c.jsxs)("form",{onSubmit:D,className:"container1",children:[Object(c.jsx)("input",{name:"email",type:"email",placeholder:"Email",required:!0,value:n,onChange:N,className:"authInput"}),Object(c.jsx)("input",{name:"password",type:"password",placeholder:"Password",required:!0,value:u,onChange:N,className:"authInput"}),Object(c.jsx)("input",{type:"submit",className:"authInput authSubmit",value:O?"Create Account":"Log In"}),g&&Object(c.jsx)("span",{className:"authError",children:g})]}),Object(c.jsx)("span",{onClick:function(){return m((function(e){return!e}))},className:"authSwitch",children:O?"Sing In":"Create Account"})]})}),g=(n(42),function(e){var t=e.colName,n=e.groupData,r=e.groupName,o=Object(a.useState)(""),s=Object(i.a)(o,2),u=s[0],j=s[1],l=Object(a.useState)(""),b=Object(i.a)(l,2),O=b[0],h=b[1],f=Object(a.useState)(""),x=Object(i.a)(f,2),g=x[0],v=x[1],N=function(e){var t=e.target,n=t.name,c=t.value;"member"===n?j(c):"phone"===n?h(c):"koreanName"===n&&v(c)},D=function(){var e=Object(p.a)(d.a.mark((function e(c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),n[r].push({name:u,phone:O,korean:g,group:r}),e.next=4,m.doc("".concat(t,"/Data")).set(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsx)("div",{children:Object(c.jsxs)("form",{onSubmit:D,children:[Object(c.jsx)("input",{name:"member",placeholder:"Member Name",onChange:N}),Object(c.jsx)("input",{name:"koreanName",placeholder:"\uc2e4\uba85",onChange:N}),Object(c.jsx)("input",{name:"phone",placeholder:"Phone Number",onChange:N}),Object(c.jsx)("input",{type:"submit",value:"Add"})]})})}),v=function(e){var t=e.colName,n=e.groupName,a=e.groupData,r=e.eachName,o=function(){var e=Object(p.a)(d.a.mark((function e(c){var o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),(o=a[n].findIndex((function(e){return e.name===r})))>-1&&a[n].splice(o,1),e.next=5,m.doc("".concat(t,"/Data")).set(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{onClick:o,children:"\uc0ad\uc81c"})," "]})},N=function(){console.log("send?");var e=new Headers;e.append("Content-Type","application/json");var t=JSON.stringify({myphone:"01066860366",phoneNum:"01066860366",message:" \ud559\uc0dd \ucd9c\uc11d\ud558\uc600\uc2b5\ub2c8\ub2e4."});return fetch("https://us-central1-attendance-6c507.cloudfunctions.net/send",{method:"POST",headers:e,body:t,redirect:"follow"}).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)})),Object(c.jsx)("div",{children:"\uad7f"})},D=function(e){var t=e.colName,n=e.groupData,a=e.groupName,r=e.mode,o=(e.profile,function(){console.log("send clicked"),N()}),s=n[a].map((function(e){return Object(c.jsx)("div",{children:Object(c.jsx)("ul",{children:"edit"===r?Object(c.jsxs)("div",{children:[e.name,"(",e.korean,e.phone,")",Object(c.jsx)(v,{groupData:n,colName:t,groupName:a,eachName:e.name})]}):Object(c.jsx)("button",{onClick:o,children:e.name})})})}));return Object(c.jsx)("div",{children:"edit"===r?Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:"Edit Member"}),Object(c.jsx)("ul",{children:s}),Object(c.jsx)(g,{colName:t,groupData:n,groupName:a})]}):Object(c.jsx)("div",{children:Object(c.jsx)("ul",{children:s})})})},S=n(19),y=function(e){var t=e.colName,n=(e.groupData,Object(a.useState)("")),r=Object(i.a)(n,2),o=r[0],s=r[1],u=function(){var e=Object(p.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,m.collection(t).doc("Data").set(Object(S.a)({},o,[]),{merge:!0});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsx)("div",{children:Object(c.jsxs)("form",{onSubmit:u,children:[Object(c.jsx)("input",{name:"classGroup",placeholder:"Class Name",onChange:function(e){var t=e.target,n=(t.name,t.value);s(n)}}),Object(c.jsx)("input",{type:"submit",value:"Submit"})]})})},k=function(e){var t=e.colName,n=e.groupName,a=(e.groupData,Object(l.f)()),r=function(){var e=Object(p.a)(d.a.mark((function e(c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.next=3,m.doc("".concat(t,"/Data")).update(Object(S.a)({},n,f.firestore.FieldValue.delete()));case 3:a.push("/edit");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{onClick:r,children:"\uc0ad\uc81c"})," "]})},w=function(e){var t=e.group,n=e.groupData,r=e.colName,o=e.mode,s=e.profile,u=Object(a.useState)(""),j=Object(i.a)(u,2),l=j[0],b=j[1],d=Object.keys(n);d.sort();var p=d.map((function(e){return Object(c.jsx)("button",{onClick:function(){return function(e){b(e)}(e)},children:e})}));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("ul",{children:p}),"edit"===o?Object(c.jsxs)("div",{children:[Object(c.jsx)(y,{group:t,groupData:n,colName:r}),l]}):Object(c.jsx)("div",{children:l}),"edit"===o&&l?Object(c.jsx)(k,{groupData:n,colName:r,groupName:l}):"",Object(c.jsxs)("div",{children:[l,n[l]?Object(c.jsx)(D,{groupName:l,colName:r,groupData:n,mode:o,profile:s}):""]})]})},C=function(e){var t=e.userObj.uid.substring(0,9),n=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.collection(t).doc("Data").set({});case 2:return e.next=4,m.collection(t).doc("Profile").set({myphone:"My Phone Number",message:" \ud559\uc0dd\uc774 \ucd9c\uc11d \ud558\uc600\uc2b5\ub2c8\ub2e4."});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)("div",{children:Object(c.jsx)("button",{onClick:n,children:"\uc2dc\uc791\ud558\uae30"})})},I=function(e){var t=e.userObj,n=e.group,a=e.groupData,r=e.colName,o=e.profile;return Object(c.jsx)(c.Fragment,{children:n?Object(c.jsx)("div",{children:Object(c.jsx)(w,{group:n,groupData:a,coleName:r,mode:"send",profile:o})}):Object(c.jsx)("div",{children:Object(c.jsx)(C,{userObj:t})})})},A=function(e){var t=e.colName,n=e.profile,r=Object(l.f)(),o=Object(a.useState)(""),s=Object(i.a)(o,2),u=s[0],j=s[1],b=Object(a.useState)(""),O=Object(i.a)(b,2),f=O[0],x=O[1],g=function(e){var t=e.target,n=t.name,c=t.value;"myphone"===n?j(c):"message"===n&&x(c)},v=function(){var e=Object(p.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,m.doc("".concat(t,"/Profile")).set({myphone:u,message:f});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{children:["My Phone Number: ",n.myphone,"Message: ",n.message]}),Object(c.jsx)("div",{children:Object(c.jsxs)("form",{onSubmit:v,children:[Object(c.jsx)("input",{name:"myphone",placeholder:n.myphone,onChange:g}),Object(c.jsx)("input",{name:"message",placeholder:n.message,onChange:g}),Object(c.jsx)("input",{type:"submit",value:"Change"})]})}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{onClick:function(){h.signOut(),r.push("/")},children:"Log Out"})})]})},E=function(e){var t=e.group,n=e.groupData,a=e.colName;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{children:Object(c.jsx)(w,{group:t,groupData:n,colName:a,mode:"edit"})})})};n(47);var F=function(e){return Object(c.jsxs)("div",{className:"about__container",children:[Object(c.jsx)("span",{children:"2nd Deck "}),Object(c.jsx)("span",{children:" :)"})]})},P=(n(48),function(){return Object(c.jsxs)("div",{className:"nav",children:[Object(c.jsx)(j.b,{to:"/",children:"Home"}),Object(c.jsx)(j.b,{to:"/profile",children:"Profile"}),Object(c.jsx)(j.b,{to:"/edit",children:"Edit"}),Object(c.jsx)(j.b,{to:"/about",children:"About"})]})}),L=(n(49),function(e){var t=e.isLoggedIn,n=e.userObj,a=e.group,r=e.groupData,o=e.colName,s=e.profile;return Object(c.jsxs)(j.a,{children:[t&&Object(c.jsx)(P,{}),Object(c.jsx)(l.c,{children:t?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(l.a,{exact:!0,path:"/",children:Object(c.jsx)(I,{userObj:n,group:a,groupData:r,colName:o,profile:s})}),Object(c.jsx)(l.a,{exact:!0,path:"/about",children:Object(c.jsx)(F,{})}),Object(c.jsx)(l.a,{exact:!0,path:"/profile",children:Object(c.jsx)(A,{colName:o,profile:s})}),Object(c.jsx)(l.a,{exact:!0,path:"/edit",children:Object(c.jsx)(E,{group:a,groupData:r,colName:o})})]}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(l.a,{exact:!0,path:"/",children:Object(c.jsx)(x,{})})})})]})}),M=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(!1),s=Object(i.a)(o,2),j=s[0],l=s[1],b=Object(a.useState)(null),d=Object(i.a)(b,2),p=d[0],O=d[1],f=Object(a.useState)(""),x=Object(i.a)(f,2),g=x[0],v=x[1],N=Object(a.useState)(!1),D=Object(i.a)(N,2),S=D[0],y=D[1],k=Object(a.useState)([]),w=Object(i.a)(k,2),C=w[0],I=w[1];return Object(a.useEffect)((function(){h.onAuthStateChanged((function(e){e?(l(!0),O(e)):l(!1),r(!0)}))}),[]),Object(a.useEffect)((function(){null!==p&&v(p.uid.substring(0,9))}),[p]),Object(a.useEffect)((function(){""!==g&&m.collection(g).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(u.a)({},e.data())}));I(t),0!==t.length&&y(!0)}))}),[g]),Object(c.jsxs)(c.Fragment,{children:[n?Object(c.jsx)(L,{isLoggedIn:j,userObj:p,groupData:C[0],profile:C[1],colName:g,group:S}):"Initializing...",Object(c.jsx)("div",{className:"footer",children:Object(c.jsxs)("footer",{children:["\xa9 ",(new Date).getFullYear()," 2nd-deck"]})})]})};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(M,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.b2119537.chunk.js.map